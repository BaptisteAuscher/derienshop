(function(e){function t(t){for(var r,c,a=t[0],i=t[1],s=t[2],d=0,l=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&l.push(o[c][0]),o[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);h&&h(t);while(l.length)l.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},o={app:0},u=[];function a(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0e3d7dcf":"9fe85db7","chunk-2ba4effc":"22febde0","chunk-5206a7ed":"e9128529","chunk-54a7083a":"f3f943c3","chunk-709813d4":"a99fcd2a","chunk-78391cbb":"9f7c9147","chunk-7eb96e34":"4749975a"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0e3d7dcf":1,"chunk-2ba4effc":1,"chunk-5206a7ed":1,"chunk-54a7083a":1,"chunk-709813d4":1,"chunk-78391cbb":1,"chunk-7eb96e34":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0e3d7dcf":"a81586e0","chunk-2ba4effc":"cbb93c59","chunk-5206a7ed":"683c5380","chunk-54a7083a":"34a4c0c6","chunk-709813d4":"f5330a64","chunk-78391cbb":"6c61bddd","chunk-7eb96e34":"9130164e"}[e]+".css",o=i.p+r,u=document.getElementsByTagName("link"),a=0;a<u.length;a++){var s=u[a],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return t()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){s=l[a],d=s.getAttribute("data-href");if(d===r||d===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete c[e],h.parentNode.removeChild(h),n(u)},h.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){c[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=a(e);var l=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}o[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var h=d;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0309":function(e,t,n){},"286d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"app"},o={class:"container"};function u(e,t,n,u,a,i){var s=Object(r["w"])("Sidebar"),d=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])("div",c,[e.jwt?(Object(r["p"])(),Object(r["d"])(s,{key:0})):Object(r["e"])("",!0),Object(r["g"])("div",o,[Object(r["g"])(d)])])}var a=n("5530"),i={class:"nav"},s={class:"nav__logo"},d=Object(r["g"])("div",{class:"nav__button"},[Object(r["g"])("img",{src:"https://images.derienshop.com/favicon.png",alt:"",width:"40",height:"40"})],-1),l={class:"nav__products"},h={class:"nav__button"},f=Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-package"},[Object(r["g"])("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),Object(r["g"])("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),Object(r["g"])("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),Object(r["g"])("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})],-1),p=Object(r["g"])("div",{class:"nav__button"},[Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-truck"},[Object(r["g"])("rect",{x:"1",y:"3",width:"15",height:"13"}),Object(r["g"])("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),Object(r["g"])("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),Object(r["g"])("circle",{cx:"18.5",cy:"18.5",r:"2.5"})])],-1),b=Object(r["g"])("div",{class:"nav__button"},[Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail"},[Object(r["g"])("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),Object(r["g"])("polyline",{points:"22,6 12,13 2,6"})])],-1);function g(e,t,n,c,o,u){var a=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",i,[Object(r["g"])("div",s,[Object(r["g"])(a,{to:"/"},{default:Object(r["E"])((function(){return[d]})),_:1})]),Object(r["g"])("div",l,[Object(r["g"])("div",h,[Object(r["g"])(a,{to:"/products"},{default:Object(r["E"])((function(){return[f]})),_:1})])]),Object(r["g"])(a,{to:"/orders"},{default:Object(r["E"])((function(){return[p]})),_:1}),Object(r["g"])(a,{to:"/messages"},{default:Object(r["E"])((function(){return[b]})),_:1})])}var m={};n("b8e2");m.render=g;var j=m,v=n("5502"),O={components:{Sidebar:j},created:function(){if(localStorage.user&&localStorage.jwt){var e=JSON.parse(localStorage.user),t=localStorage.jwt;this.$store.commit("SETJWT",t),this.$store.commit("SETUSER",e)}this.jwt||this.$router.push({name:"Connexion"})},computed:Object(a["a"])({},Object(v["c"])(["jwt"]))};n("9cdc");O.render=u;var w=O,k=(n("d3b7"),n("6c02")),y={class:"home"},S={key:0};function E(e,t,n,c,o,u){return Object(r["p"])(),Object(r["d"])("div",y,[e.user?(Object(r["p"])(),Object(r["d"])("h1",S,"ConnectÃ© en tant que "+Object(r["y"])(e.user.firstname+" "+e.user.lastname),1)):Object(r["e"])("",!0),Object(r["g"])("button",{onClick:t[1]||(t[1]=function(){return u.deconnect.apply(u,arguments)})},"SE DECONNECTER")])}var x={computed:Object(a["a"])({},Object(v["c"])(["user"])),methods:{deconnect:function(){this.$store.commit("SETJWT",null),this.$store.commit("SETUSER",null),localStorage.removeItem("jwt"),this.$router.push({name:"Connexion"})}}};n("e69a");x.render=E;var _=x,P=[{path:"/",name:"Home",component:_},{path:"/products",name:"Products",component:function(){return n.e("chunk-54a7083a").then(n.bind(null,"e6dc"))}},{path:"/orders",name:"Orders",component:function(){return n.e("chunk-709813d4").then(n.bind(null,"159d"))}},{path:"/messages",name:"Messages",component:function(){return n.e("chunk-0e3d7dcf").then(n.bind(null,"eaad"))}},{path:"/messages/:id",name:"SingleMessage",component:function(){return n.e("chunk-7eb96e34").then(n.bind(null,"d1d5"))}},{path:"/product/:id",name:"EditProduct",component:function(){return n.e("chunk-2ba4effc").then(n.bind(null,"2e92"))}},{path:"/orders/:id",name:"SingleOrder",component:function(){return n.e("chunk-5206a7ed").then(n.bind(null,"c025"))}},{path:"/connexion",name:"Connexion",component:function(){return n.e("chunk-78391cbb").then(n.bind(null,"c74e"))}}],C=Object(k["a"])({history:Object(k["b"])("/"),routes:P}),T=C,A=(n("96cf"),n("1da1")),N=n("bc3a"),J=n.n(N),M={product:{},products:[]},B={getProducts:function(e){return e.products},getProduct:function(e){return e.product}},R={setProducts:function(e,t){return e.products=t},setProduct:function(e,t){return e.product=t}},$={fetchProducts:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,J.a.get("http://localhost:3000/api/products");case 3:r=t.sent,n("setProducts",r.data);case 5:case"end":return t.stop()}}),t)})))()},deleteProduct:function(e,t){var n={method:"delete",url:"http://localhost:3000/api/products/"+t,headers:{}};confirm("u sure ?"),J()(n).then((function(e){return console.log(JSON.stringify(e.data))})).catch((function(e){return console.log(e)})),e.dispatch("fetchProducts")},fetchProduct:function(e,t){var n=e.commit,r=J.a.get("http://localhost:3000/api/products/"+t);n("setProduct",r.data)}},L={state:M,getters:B,actions:$,mutations:R},I={isAuth:!1,jwt:null,user:null},U={isAuth:function(e){return e.isAuth},jwt:function(e){return e.jwt},user:function(e){return e.user}},q={SETJWT:function(e,t){e.jwt=t,localStorage.setItem("jwt",t)},SETUSER:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))}},D={},H={state:I,getters:U,mutations:q,actions:D},W=Object(v["a"])({modules:{products:L,auth:H}});Object(r["c"])(w).use(W).use(T).mount("#app")},"9cdc":function(e,t,n){"use strict";n("c701")},b8e2:function(e,t,n){"use strict";n("0309")},c701:function(e,t,n){},e69a:function(e,t,n){"use strict";n("286d")}});
//# sourceMappingURL=app.487b163b.js.map