{"version":3,"sources":["webpack:///./src/views/SingleMessage.vue?08e5","webpack:///./src/views/SingleMessage.vue","webpack:///./src/views/SingleMessage.vue?5d9c"],"names":["class","message","contact","object","mail","Date","createdAt","toDateString","deleteMessage","back","created","config","method","url","this","$route","params","id","headers","$store","state","auth","jwt","then","response","data","setMessageRead","catch","err","console","log","methods","done","confirm","$router","push","name","render","__scopeId"],"mappings":"kHAAA,W,6KCEY,W,uCAGoBA,MAAM,iB,GAGrBA,MAAM,W,wEAPnB,eAYO,aAXH,eAAyE,W,EAAlD,EAAAC,S,iBAAZ,eAAyD,SAApC,MAAG,eAAE,EAAAA,QAAQC,QAAQC,QAAM,I,wBACjD,EAAAF,S,iBAAV,eAAwD,OAArC,WAAQ,eAAE,EAAAA,QAAQC,QAAQE,MAAI,I,sBACvC,EAAAH,S,iBAAV,eAA0D,OAAvC,WAAQ,eAAE,EAAAA,QAAQC,QAAQC,QAAM,I,sBACpC,EAAAF,S,iBAAf,eAOU,UAPV,EAOU,CANN,eAAqD,4BAA5CI,KAAK,EAAAJ,QAAQK,WAAWC,gBAAY,GAC7C,eAAkC,wBAA7B,EAAAN,QAAQC,QAAQD,SAAO,GAC5B,eAGM,MAHN,EAGM,CAFF,eAA6D,UAArDD,MAAM,MAAO,QAAK,8BAAE,EAAAQ,cAAA,sBAAe,aAC3C,eAAkD,UAA1CR,MAAM,OAAQ,QAAK,8BAAE,EAAAS,KAAA,sBAAM,e,wEASpC,GACXC,QAAS,WAAF,8CAAE,kHACDC,EAAS,CACTC,OAAQ,MACRC,IAAK,sCAAgDC,KAAKC,OAAOC,OAAOC,GACxEC,QAAS,CACL,cAAkB,UAAYJ,KAAKK,OAAOC,MAAMC,KAAKC,MALxD,SAQC,IAAMX,GAAQY,MAAK,SAAAC,GACrB,EAAKvB,QAAUuB,EAASC,KACxB,EAAKC,oBACNC,OAAM,SAAAC,GAAE,OAAKC,QAAQC,IAAIF,MAXvB,gDAAF,qDAAE,GAaTH,KAdW,WAeP,MAAO,CACHxB,QAAS,OAGjB8B,QAAS,CACLL,eAAgB,WAAF,8CAAE,oGACZZ,KAAKb,QAAQ+B,MAAO,EAChBrB,EAAS,CACTC,OAAQ,QACRC,IAAK,sCAAgDC,KAAKC,OAAOC,OAAOC,GACxEQ,KAAM,CACFxB,QAASa,KAAKb,SAElBiB,QAAS,CACL,cAAkB,UAAYJ,KAAKK,OAAOC,MAAMC,KAAKC,MAG7D,IAAMX,GAAQY,MAAK,SAAAC,GACfK,QAAQC,IAAIN,MACbG,OAAM,SAAAC,GAAE,OAAKC,QAAQC,IAAIF,MAdhB,gDAAF,qDAAE,GAgBhBpB,cAAe,WAAF,8CAAE,kHACPG,EAAS,CACTC,OAAQ,SACRC,IAAK,sCAAgDC,KAAKC,OAAOC,OAAOC,GACxEC,QAAS,CACL,cAAkB,UAAYJ,KAAKK,OAAOC,MAAMC,KAAKC,MAI7DW,QAAQ,YATG,SAWL,IAAMtB,GAAQY,MAAK,SAAAC,GACrBK,QAAQC,IAAIN,GACZ,EAAKU,QAAQC,KAAK,CACdC,KAAM,gBAEXT,OAAM,SAAAC,GAAE,OAAKC,QAAQC,IAAIF,MAhBjB,gDAAF,qDAAE,GAkBfnB,KAAM,WACFK,KAAKoB,QAAQC,KAAK,CACdC,KAAM,gB,UCtEtB,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-7eb96e34.4749975a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SingleMessage.vue?vue&type=style&index=0&id=84b6fa36&lang=scss&scoped=true\"","<template>\n    <main>\n        <h1>Message<span v-if=\"message\"> - {{message.contact.object}}</span></h1>\n        <h4 v-if=\"message\">Email : {{message.contact.mail}}</h4>\n        <h4 v-if=\"message\">Objet : {{message.contact.object}}</h4>\n        <section v-if=\"message\" class=\"singleMessage\">\n            <p>{{new Date(message.createdAt).toDateString()}}</p>\n            <p>{{message.contact.message}}</p>\n            <div class=\"buttons\">\n                <button class=\"red\" @click=\"deleteMessage\">SUPPRIMER</button>\n                <button class=\"grey\" @click=\"back\">RETOUR</button>\n            </div>\n        </section>\n    </main>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n    created: async function () {\n        let config = {\n            method: 'get',\n            url: process.env.VUE_APP_API_URL + 'api/messages/' + this.$route.params.id,\n            headers: {\n                \"Authorization\" : \"Bearer \" + this.$store.state.auth.jwt\n            }\n        };\n        await axios(config).then(response => {\n            this.message = response.data\n            this.setMessageRead();\n        }).catch(err => console.log(err));\n    },\n    data () {\n        return {\n            message: null\n        }\n    },\n    methods: {\n        setMessageRead: async function () {\n            this.message.done = true;\n            let config = {\n                method: 'patch',\n                url: process.env.VUE_APP_API_URL + 'api/messages/' + this.$route.params.id,\n                data: {\n                    message: this.message\n                },\n                headers: {\n                    \"Authorization\" : \"Bearer \" + this.$store.state.auth.jwt\n                }\n            };\n            axios(config).then(response => {\n                console.log(response)\n            }).catch(err => console.log(err))\n        },\n        deleteMessage: async function () {\n            let config = {\n                method: 'delete',\n                url: process.env.VUE_APP_API_URL + 'api/messages/' + this.$route.params.id,\n                headers: {\n                    \"Authorization\" : \"Bearer \" + this.$store.state.auth.jwt\n                }\n            };\n\n            confirm('u sure ?');\n            \n            await axios(config).then(response => {\n                console.log(response);\n                this.$router.push({\n                    name: \"Messages\"\n                });\n            }).catch(err => console.log(err));\n        },\n        back: function () {\n            this.$router.push({\n                name: \"Messages\"\n            });\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.singleMessage {\n    width: 90%;\n    margin: 0 auto;\n}\n\n.red, .grey{\n    padding: 10px 20px;\n    margin: 0;\n    margin-top: 20px;\n    margin-right: 10px;\n    outline: none;\n    border: none;\n    color: white;\n    font-size: 15px;\n    font-weight: 800;\n    cursor: pointer;\n}\n\n.red {\n    background-color: #f33e5c;\n}\n\n.grey {\n    background-color: grey;\n}\n\nh4 {\n    padding-left: 50px;\n}\n</style>","import { render } from \"./SingleMessage.vue?vue&type=template&id=84b6fa36&scoped=true&bindings={\\\"message\\\":\\\"data\\\",\\\"setMessageRead\\\":\\\"options\\\",\\\"deleteMessage\\\":\\\"options\\\",\\\"back\\\":\\\"options\\\"}\"\nimport script from \"./SingleMessage.vue?vue&type=script&lang=js\"\nexport * from \"./SingleMessage.vue?vue&type=script&lang=js\"\n\nimport \"./SingleMessage.vue?vue&type=style&index=0&id=84b6fa36&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-84b6fa36\"\n\nexport default script"],"sourceRoot":""}