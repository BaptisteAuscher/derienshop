(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78391cbb"],{"8b86":function(e,t,r){},c74e:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["H"])("data-v-5abab404");Object(n["s"])("data-v-5abab404");var s={class:"connect"},u=Object(n["g"])("h1",null,"Connectez vous.",-1),c={key:0,class:"erreur"},o=Object(n["g"])("p",null,"Connectez-vous avec votre compte administrateur. Si vous ne poss√©dez pas de compte administrateur, ce site n'est pas fait pour vous :)",-1);Object(n["q"])();var i=a((function(e,t,r,a,i,l){return Object(n["p"])(),Object(n["d"])("main",s,[u,Object(n["g"])("form",null,[Object(n["F"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.user.email=e}),placeholder:"Email"},null,512),[[n["B"],i.user.email]]),Object(n["F"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.user.password=e}),placeholder:"Mot de passe"},null,512),[[n["B"],i.user.password]]),Object(n["g"])("button",{type:"submit",onClick:t[3]||(t[3]=Object(n["G"])((function(){return l.connect.apply(l,arguments)}),["prevent"])),class:"connectButton"},"SE CONNECTER"),i.error?(Object(n["p"])(),Object(n["d"])("p",c,Object(n["y"])(i.error),1)):Object(n["e"])("",!0),o])])})),l=(r("96cf"),r("1da1")),p=r("bc3a"),d=r.n(p),b={data:function(){return{user:{email:null,password:null},error:null}},methods:{isEmailValid:function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)},connect:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.user.email&&this.user.password){e.next=2;break}return e.abrupt("return",this.error="Veuillez remplir tous les champs.");case 2:if(this.isEmailValid(this.user.email)){e.next=4;break}return e.abrupt("return",this.error="Entrez un email valide.");case 4:return t={method:"post",url:"http://localhost:3000/api/users/login-admin",data:{user:this.user}},e.next=7,d()(t).then((function(e){console.log({user:e.data.user}),r.$store.commit("SETJWT",e.data.accessToken),r.$store.commit("SETUSER",e.data.user),r.$router.push({name:"Home"})})).catch((function(e){r.error=e.response.data.msg}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};r("f821");b.render=i,b.__scopeId="data-v-5abab404";t["default"]=b},f821:function(e,t,r){"use strict";r("8b86")}}]);
//# sourceMappingURL=chunk-78391cbb.9f7c9147.js.map