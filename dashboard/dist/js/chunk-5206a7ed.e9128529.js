(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5206a7ed"],{1148:function(e,t,r){"use strict";var n=r("a691"),c=r("1d80");e.exports="".repeat||function(e){var t=String(c(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},"1c48":function(e,t,r){"use strict";r("3dfe")},2375:function(e,t,r){"use strict";var n=r("7a23"),c=Object(n["H"])("data-v-6d1a7644");Object(n["s"])("data-v-6d1a7644");var o={class:"spinner"};Object(n["q"])();var i=c((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",o)})),a={};r("a9fc");a.render=i,a.__scopeId="data-v-6d1a7644";t["a"]=a},"3dfe":function(e,t,r){},"408a":function(e,t,r){var n=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},"5cdf":function(e,t,r){},a9fc:function(e,t,r){"use strict";r("5cdf")},b0c0:function(e,t,r){var n=r("83ab"),c=r("9bf2").f,o=Function.prototype,i=o.toString,a=/^\s*function ([^ (]*)/,u="name";n&&!(u in o)&&c(o,u,{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(e){return""}}})},b680:function(e,t,r){"use strict";var n=r("23e7"),c=r("a691"),o=r("408a"),i=r("1148"),a=r("d039"),u=1..toFixed,s=Math.floor,l=function(e,t,r){return 0===t?r:t%2===1?l(e,t-1,r*e):l(e*e,t/2,r)},d=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},b=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){u.call({})}));n({target:"Number",proto:!0,forced:b},{toFixed:function(e){var t,r,n,a,u=o(this),b=c(e),O=[0,0,0,0,0,0],j="",p="0",h=function(e,t){var r=-1,n=t;while(++r<6)n+=e*O[r],O[r]=n%1e7,n=s(n/1e7)},f=function(e){var t=6,r=0;while(--t>=0)r+=O[t],O[t]=s(r/e),r=r%e*1e7},m=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==O[e]){var r=String(O[e]);t=""===t?r:t+i.call("0",7-r.length)+r}return t};if(b<0||b>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(j="-",u=-u),u>1e-21)if(t=d(u*l(2,69,1))-69,r=t<0?u*l(2,-t,1):u/l(2,t,1),r*=4503599627370496,t=52-t,t>0){h(0,r),n=b;while(n>=7)h(1e7,0),n-=7;h(l(10,n,1),0),n=t-1;while(n>=23)f(1<<23),n-=23;f(1<<n),h(1,1),f(2),p=m()}else h(0,r),h(1<<-t,0),p=m()+i.call("0",b);return b>0?(a=p.length,p=j+(a<=b?"0."+i.call("0",b-a)+p:p.slice(0,a-b)+"."+p.slice(a-b))):p=j+p,p}})},c025:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),c=Object(n["f"])("Commande "),o={key:0},i={key:0,class:"spinner_container"},a={key:1,class:"order"},u={class:"items"},s=Object(n["g"])("h3",null,"Info commande",-1),l=Object(n["g"])("h4",null,"Contenu du panier",-1),d=Object(n["g"])("img",{src:"https://images.derienshop.com/ice-cream-purple.png",alt:"",width:"50",height:"50"},null,-1),b=Object(n["g"])("td",null,"Total :",-1),O=Object(n["g"])("td",null,"Net :",-1),j={class:"order__state"},p=Object(n["g"])("h4",null,"Etat de la commande",-1),h={class:"customer"},f=Object(n["g"])("h3",null,"Info client",-1),m={class:"customer__adress"},g=Object(n["g"])("h4",null,"Adresse",-1),v={class:"customer_payment"},y=Object(n["g"])("h4",null,"Mode de paiement",-1),w={class:"customer_other"},k=Object(n["g"])("h4",null,"Infos complémentaires",-1);function x(e,t,r,x,E,R){var _=Object(n["w"])("Spinner");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])("h1",null,[c,E.order?(Object(n["p"])(),Object(n["d"])("span",o,"de "+Object(n["y"])(E.order.customer.identity.firstname+" "+E.order.customer.identity.lastname),1)):Object(n["e"])("",!0)]),E.isLoading?(Object(n["p"])(),Object(n["d"])("div",i,[Object(n["g"])(_)])):Object(n["e"])("",!0),E.order?(Object(n["p"])(),Object(n["d"])("div",a,[Object(n["g"])("div",u,[s,l,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.order.cart.items,(function(e,t){return Object(n["p"])(),Object(n["d"])("div",{key:t,class:"item"},[d,Object(n["g"])("p",null,Object(n["y"])(e.name),1),Object(n["g"])("p",null,Object(n["y"])(e.color),1),Object(n["g"])("p",null,Object(n["y"])(e.size),1),Object(n["g"])("p",null,"x"+Object(n["y"])(e.qty),1),Object(n["g"])("p",null,Object(n["y"])(R.formatPrice(e.price)),1)])})),128)),Object(n["g"])("table",null,[Object(n["g"])("tr",null,[b,Object(n["g"])("td",null,Object(n["y"])(R.formatPrice(E.order.cart.total)),1)]),Object(n["g"])("tr",null,[O,Object(n["g"])("td",null,Object(n["y"])(R.formatPrice(R.netValue(E.order.cart.total,E.order.customer.payment.method))),1)])]),Object(n["g"])("div",j,[p,Object(n["g"])("p",null,Object(n["y"])(E.order.done?"Commande traitée":"Commande en cours de traitement"),1)]),E.order.done?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("button",{key:0,class:"vert",onClick:t[1]||(t[1]=function(e){return R.setDone()})},"COMMANDE ENVOYÉE")),E.order.done?(Object(n["p"])(),Object(n["d"])("button",{key:1,class:"blue",onClick:t[2]||(t[2]=function(e){return R.setUnDone()})},"COMMANDE PAS ENVOYÉE")):Object(n["e"])("",!0),Object(n["g"])("button",{class:"gris",onClick:t[3]||(t[3]=function(e){return R.back()})},"RETOUR")]),Object(n["g"])("div",h,[f,Object(n["g"])("p",null,Object(n["y"])(E.order.customer.identity.email),1),Object(n["g"])("div",m,[g,Object(n["g"])("p",null,Object(n["y"])(E.order.customer.delivery.line1+" "+(E.order.customer.delivery.line2?E.order.customer.delivery.line2:"")),1),Object(n["g"])("p",null,Object(n["y"])(E.order.customer.delivery.postal+" "+E.order.customer.delivery.city),1),Object(n["g"])("p",null,Object(n["y"])(E.order.customer.delivery.country),1)]),Object(n["g"])("div",v,[y,Object(n["g"])("p",null,"Paiement sécurisé par "+Object(n["y"])(E.order.customer.payment.method),1),Object(n["g"])("p",null,"Numéro de commande : "+Object(n["y"])(E.order.customer.payment.orderID),1)]),Object(n["g"])("div",w,[k,Object(n["g"])("p",null,"Id dans la base de donnée : "+Object(n["y"])(E.order._id),1)])])])):Object(n["e"])("",!0)])}r("b680"),r("96cf");var E=r("1da1"),R=r("2375"),_=r("bc3a"),C=r.n(_),N={components:{Spinner:R["a"]},data:function(){return{isLoading:!0,order:null}},created:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",url:"http://localhost:3000/api/orders/"+this.$route.params.id},e.next=3,C()(t).then((function(e){r.order=e.data,r.isLoading=!1})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{formatPrice:function(e){return(e/100).toFixed(2)+"EUR"},netValue:function(e,t){return"STRIPE"===t.toUpperCase()?.986*e-25:"PAYPAL"===t.toUpperCase()?.966*e-25:void 0},setDone:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.order.done=!0,t={method:"patch",url:"http://localhost:3000/api/orders/"+this.order._id,data:this.order,headers:{Authorization:"Bearer "+this.$store.state.auth.jwt}},e.next=4,C()(t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setUnDone:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.order.done=!1,t={method:"patch",url:"http://localhost:3000/api/orders/"+this.order._id,data:this.order,headers:{Authorization:"Bearer "+this.$store.state.auth.jwt}},e.next=4,C()(t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),back:function(){this.$router.push({name:"Orders"})}}};r("1c48");N.render=x;t["default"]=N}}]);
//# sourceMappingURL=chunk-5206a7ed.e9128529.js.map